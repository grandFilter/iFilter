{"version":3,"sources":["containers/Effect/FilterCSS/styles.module.less","containers/Effect/FilterSVG/Footer/styles.module.less","containers/Layout/styles.module.scss","containers/Effect/FilterSVG/Footer/Editor/styles.module.less","components/Camera/styles.module.less","components/Slider/styles.module.less","containers/Effect/FilterSVG/Banner/styles.module.less","components/ScrollSnap/styles.module.less","containers/Effect/FilterCSS/filter.module.less","containers/Home/styles.module.less","components/Input/styles.module.less","components/Icon/styles.module.less","containers/Effect/FilterSVG/Main/styles.module.less","app.module.less","constants.ts","store/common.ts","store/effect.ts","utils/index.ts","utils/color.ts","store/SVG/data.ts","store/SVG/index.ts","store/index.ts","utils/history.ts","containers/Layout/index.tsx","utils/localforage.ts","services/hooks/localforage.ts","components/Camera/index.tsx","assets/svg/plus.svg","assets/svg/camera.svg","assets/svg/transparency.svg","assets/svg/brightness.svg","assets/svg/blend.svg","assets/svg/channel.svg","assets/svg/interpolation.svg","components/Icon/index.tsx","containers/Home/index.tsx","components/Slider/index.tsx","containers/Effect/FilterCSS/Group.tsx","containers/Effect/FilterCSS/index.tsx","containers/Layout/Editor.tsx","containers/Effect/FilterSVG/FilterContext.tsx","containers/Effect/FilterSVG/Banner/index.tsx","store/SVG/attributes/index.ts","components/SVGFilter/index.tsx","containers/Effect/FilterSVG/Main/index.tsx","components/ScrollSnap/index.tsx","containers/Effect/FilterSVG/Footer/Editor/Operator.tsx","containers/Effect/FilterSVG/Footer/Editor/index.tsx","components/Input/Color.tsx","components/Slider/RGB.tsx","containers/Effect/FilterSVG/Footer/index.tsx","containers/Effect/FilterSVG/Footer/Colors.tsx","containers/Effect/FilterSVG/index.tsx","containers/Effect/index.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["module","exports","SVG_EDITOR_TYPE","SVG_TYPE","commonModel","effectModel","active","CSSgramList","name","className","opacity","activeFilter","computed","setActive","action","state","Object","assign","setOpacity","loadImage","url","crossOrigin","Promise","resolve","reject","img","Image","onload","onerror","err","src","deepCopy","data","JSON","parse","stringify","SVGToImage","svgElem","type","blob","svgString","XMLSerializer","serializeToString","image","URL","createObjectURL","Blob","base64","encodeURIComponent","Error","getThumbnailBlob","a","width","height","dWidth","dHeight","canvasElem","document","createElement","ctx","getContext","drawImage","Math","floor","toBlob","rgbToHex","r","g","b","map","x","toString","padStart","join","hexToRgb","hex","convertHEXToRGB","R","substr","slice","G","B","parseInt","palettes","CONFIG","playgrounds","primitives","filter","y","filterUnits","primitiveUnits","colorInterpolationFilters","imageOpacity","blendMode","grayscaleType","LIST_TYPES","id","value","palatteFilters","palette","getFilterPlaygrounds","filterId","rgbValues","colors","reduce","prev","item","rgbSet","keys","forEach","k","key","round","push","propsSet","toUpperCase","param","funcA","playground","find","i","params","values","children","mode","storeModel","common","effect","SVG","paletteId","config","blendModeList","typesList","colorTypeList","options","getFilterConfig","setPalatteId","setPalatte","setConfig","store","createStore","typedHooks","createTypedHooks","useStoreActions","useStoreState","useStore","useStoreDispatch","history","createBrowserHistory","LayoutIndex","props","styles","layout","box","localforage","Localforage","createInstance","useBase64","useState","setBase64","setState","useCallback","getItem","setItem","useLocalforage","getStore","setStore","useEffect","CameraIndex","setWidth","setHeight","visible","onClose","onInput","closeHandle","canvasEl","useRef","videoEl","inputEl","current","navigator","mediaDevices","getUserMedia","msg","video","audio","then","stream","srcObject","window","onloadedmetadata","play","catch","console","log","webRtcCamera","changeHandler","e","file","files","reader","FileReader","result","readAsDataURL","CN","camera","show","onPlaying","vh","innerHeight","offsetWidth","offsetHeight","ref","autoPlay","x-webkit-airplay","webkit-playsinline","playsInline","muted","mask","role","close","onClick","icon","accept","onChange","canvas","pause","toDataURL","shot","_extends","target","arguments","length","source","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","stroke","strokeWidth","fill","fillRule","d","_ref","svgRef","title","viewBox","ForwardRef","forwardRef","clipRule","CreateAntIcon","Component","svg","CameraIcon","Camera","BrightnessIcon","Plus","Transparency","Brightness","BlendIcon","Blend","ChannelIcon","Channel","InterpolarionIcon","Interpolarion","HomeIndex","useHistory","setVisible","inputHandle","header","button","SliderIndex","onUpdate","slider","step","range","min","max","start","tooltips","format","wNumb","decimals","connect","handle","unencodedValues","tap","positions","FilterCSSGroup","originOpacity","list","strength","setStrength","index","onSelectAndEdit","filterItem","filterStyles","alt","layer","aside","FilterCSSIndex","style","group","LayoutEditor","Banner","Main","Footer","Extra","editor","banner","main","footer","ACTION","FilterContext","createContext","editing","thumbnail","FilterProvider","initialData","useReducer","change","payload","dispatch","contextValue","useMemo","Provider","useContext","onSave","parentElement","append","center","right","save","in","in2","blend","blur","colormatrix","componentTransfer","convolveMatrix","composite","diffuseLighting","displacementMap","distantLight","dropShadow","flood","funcR","funcG","funcB","tile","merge","mergeNode","morphology","offset","pointLight","specularLighting","spotLight","turbulence","Filter","primitive","Primitive","groupName","attribute","attributes","disabled","viewBoxValue","hasOrigin","setHasOrigin","hanleStart","handleEnd","onTouchStart","onTouchEnd","onMouseDown","onMouseUp","onMouseLeave","xmlns","xmlnsXlink","preserveAspectRatio","xlinkHref","ScrollSnap","scrollWrap","scroll","cl","Operator","setCtx","operator","event","currentTarget","Interpolation","getOperator","actionList","SVGEditor","iconWrap","eidtor","ColorInput","color","handleChange","inputColor","data-name","backgroundColor","COLORS","SliderHEXColor","rgbs","handleUpdate","cache","concat","sliderChangeHandler","colorSlider","titleWrap","toLocaleUpperCase","colorpicker","orientation","direction","data-pips","density","TYPE_NAME","Color","setCxt","setLiveColors","splice","tab","editColor","palettesList","wrap","area","Editor","FilterSVG","refSVG","EffectIndex","path","useRouteMatch","exact","to","App","atEnter","atLeave","atActive","switch","basename","Boolean","location","hostname","match","ReactDOM","render","getElementById","serviceWorker","ready","registration","unregister","error","message"],"mappings":"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","file":"static/js/main.3e19d111.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"filter\":\"filter--2c7MG\",\"group\":\"group--38nik\",\"list\":\"list--3dYAG\",\"item\":\"item--_Mk-K\",\"active\":\"active--bJObF\",\"filterItem\":\"filterItem--3PHM2\",\"layer\":\"layer--v_rJV\",\"aside\":\"aside--3xO-h\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"palette\":\"palette--308tT\",\"active\":\"active--2f1NZ\",\"wrap\":\"wrap--15Abw\",\"area\":\"area--1y53D\",\"tab\":\"tab--At040\",\"item\":\"item--2HJFi\",\"color\":\"color--2VohM\",\"aside\":\"aside--1L2DL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"layout\":\"styles_layout__1qftu\",\"box\":\"styles_box__1NA7q\",\"editor\":\"styles_editor__gYr6f\",\"banner\":\"styles_banner__4UeAB\",\"main\":\"styles_main__1F7uy\",\"footer\":\"styles_footer__11mrF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"eidtor\":\"eidtor--WlE4z\",\"iconWrap\":\"iconWrap--14fuO\",\"icon\":\"icon--7pMhK\",\"operator\":\"operator--2dKOa\",\"aside\":\"aside--1hWCj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"camera\":\"camera--3DU7f\",\"show\":\"show--f1QyA\",\"video\":\"video--2N_DN\",\"mask\":\"mask--Xkim4\",\"close\":\"close--3nPB_\",\"icon\":\"icon--327E1\",\"shot\":\"shot--12j1I\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"colorSlider\":\"colorSlider--1L-mU\",\"titleWrap\":\"titleWrap--1401k\",\"colorpicker\":\"colorpicker--2al0n\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"banner\":\"banner--1iN_d\",\"center\":\"center--70xPv\",\"right\":\"right--1WD9Q\",\"save\":\"save--261U2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"scrollWrap\":\"scrollWrap--3TDYG\",\"scroll\":\"scroll--1JjPm\",\"item\":\"item--7oeZG\",\"cl\":\"cl--3HNJ1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"aden\":\"aden--Je7af\",\"inkwell\":\"inkwell--2rayu\",\"perpetua\":\"perpetua--1z3Mv\",\"reyes\":\"reyes--3D0fB\",\"gingham\":\"gingham--1xWcH\",\"toaster\":\"toaster--2mPnl\",\"walden\":\"walden--3pFgE\",\"hudson\":\"hudson--2s0ri\",\"earlybird\":\"earlybird--2Z1oC\",\"mayfair\":\"mayfair--2c4Hh\",\"lofi\":\"lofi--3KRjy\",\"_1977\":\"_1977--3Zqwd\",\"brooklyn\":\"brooklyn--3TA_b\",\"xpro2\":\"xpro2--3dR6Y\",\"nashville\":\"nashville--1QVxB\",\"lark\":\"lark--2-gPj\",\"moon\":\"moon--2HGnH\",\"clarendon\":\"clarendon--FnNHz\",\"willow\":\"willow--1EE9s\",\"rise\":\"rise--1--C-\",\"slumber\":\"slumber--1M96Q\",\"brannan\":\"brannan--3WY1L\",\"valencia\":\"valencia--2YZcr\",\"kelvin\":\"kelvin--2surX\",\"maven\":\"maven--1M6KL\",\"stinson\":\"stinson--3PqAY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"header--vRFWq\",\"button\":\"button--3kiBk\",\"icon\":\"icon--DS_mx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inputColor\":\"inputColor--2puDS\",\"color\":\"color--32xsA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"svg\":\"svg--3h4uk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"svg\":\"svg--2RFam\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"switch\":\"switch--8lQo0\"};","// base64 名称\nexport const STORAGE_BASE64 = 'STORAGE_BASE64';\n\n// file 名称\nexport const STORAGE_FILE = 'STORAGE_FILE';\n\n// SVG 编辑选项类型\nexport enum SVG_EDITOR_TYPE {\n    Transparency = 'Transparency',\n    Blend = 'Blend',\n    Channel = 'Channel',\n    Interpolation = 'Interpolation',\n}\n\n// SVG 转 Image 时的类型\nexport enum SVG_TYPE {\n    blob = 'blob',\n    base64 = 'base64',\n}\n","// import { action } from 'easy-peasy';\n\nimport { ICommonModel } from '@/types/store/common';\n\nconst commonModel: ICommonModel = {};\n\nexport default commonModel;\n","import { action, computed } from 'easy-peasy';\n\nimport { IEffectModel } from '@/types/store/effect';\n\nconst effectModel: IEffectModel = {\n    active: 0,\n    CSSgramList: [\n        {\n            name: 'NONE',\n            className: '',\n            opacity: 1,\n        },\n        {\n            name: '1977',\n            className: '_1977',\n            opacity: 1,\n        },\n        {\n            name: 'Aden',\n            className: 'aden',\n            opacity: 1,\n        },\n        {\n            name: 'Amaro',\n            className: 'amaro',\n            opacity: 1,\n        },\n        {\n            name: 'Brannan',\n            className: 'brannan',\n            opacity: 1,\n        },\n        {\n            name: 'Brooklyn',\n            className: '',\n            opacity: 1,\n        },\n        {\n            name: 'Clarendon',\n            className: '',\n            opacity: 1,\n        },\n        {\n            name: 'Earlybird',\n            className: '',\n            opacity: 1,\n        },\n\n        {\n            name: `Gingham`,\n            className: 'gingham',\n            opacity: 1,\n        },\n\n        {\n            name: `Hudson`,\n            className: 'hudson',\n            opacity: 1,\n        },\n        {\n            name: `Inkwell`,\n            className: 'inkwell',\n            opacity: 1,\n        },\n        {\n            name: `Kelvin`,\n            className: 'kelvin',\n            opacity: 1,\n        },\n        {\n            name: `Lark`,\n            className: 'lark',\n            opacity: 1,\n        },\n        {\n            name: `Lo-fi`,\n            className: 'lofi',\n            opacity: 1,\n        },\n        {\n            name: `Maven`,\n            className: 'maven',\n            opacity: 1,\n        },\n        {\n            name: `Mayfair`,\n            className: 'mayfair',\n            opacity: 1,\n        },\n        {\n            name: `Moon`,\n            className: 'moon',\n            opacity: 1,\n        },\n        {\n            name: `Nashville`,\n            className: 'nashville',\n            opacity: 1,\n        },\n        {\n            name: `Perpetua`,\n            className: 'perpetua',\n            opacity: 1,\n        },\n        {\n            name: `Reyes`,\n            className: 'reyes',\n            opacity: 1,\n        },\n        {\n            name: `Rise`,\n            className: 'rise',\n            opacity: 1,\n        },\n        {\n            name: `Slumber`,\n            className: 'slumber',\n            opacity: 1,\n        },\n\n        {\n            name: `Stinson`,\n            className: 'stinson',\n            opacity: 1,\n        },\n        {\n            name: `Toaster`,\n            className: 'toaster',\n            opacity: 1,\n        },\n        {\n            name: `Valencia`,\n            className: 'valencia',\n            opacity: 1,\n        },\n        {\n            name: `Walden`,\n            className: 'walden',\n            opacity: 1,\n        },\n        {\n            name: `Willow`,\n            className: 'willow',\n            opacity: 1,\n        },\n        {\n            name: `X-Pro II`,\n            className: 'xpro2',\n            opacity: 1,\n        },\n    ],\n\n    activeFilter: computed(({ active, CSSgramList }) => CSSgramList[active] || {}),\n\n    setActive: action((state, active) => {\n        Object.assign(state, { active });\n    }),\n    setOpacity: action(({ active, CSSgramList }, opacity) => {\n        Object.assign(CSSgramList[active] || {}, { opacity });\n    }),\n};\n\nexport default effectModel;\n","import { IDictionary } from '@/types';\nimport { SVG_TYPE } from '@/constants';\n/**\n * 加载图片\n *\n * @param {string} url\n *  * @param {boolean} [crossOrigin=false]\n * @returns {Promise<HTMLImageElement>}\n */\nexport function loadImage(url: string, crossOrigin: boolean = false): Promise<HTMLImageElement> {\n    return new Promise((resolve, reject) => {\n        const img = new Image();\n        img.crossOrigin = crossOrigin ? 'Anonymous' : null;\n\n        img.onload = () => resolve(img);\n        img.onerror = err => reject(err);\n        img.src = url;\n    });\n}\n\n/**\n * 深拷贝对象\n *\n * @export\n * @param {IDictionary<any>} data\n * @returns\n */\nexport function deepClone<T = IDictionary<any>>(data: T) {\n    const walk = (obj: IDictionary<any>) => {\n        let resultObj = {} as any;\n\n        if (Array.isArray(obj)) {\n            resultObj = [];\n        }\n\n        for (let key in obj) {\n            const value = obj[key] as any;\n            if (Array.isArray(value)) {\n                resultObj[key] = [...value];\n            } else if (typeof value === 'object') {\n                resultObj[key] = walk(value);\n            } else {\n                resultObj[key] = value;\n            }\n        }\n\n        return resultObj;\n    };\n\n    return walk(data) as T;\n}\n\n/**\n * 深拷贝对象 (JSON.parse(JSON.stringify(data)))\n *\n * @param {T} data\n * @return {T}\n */\nexport function deepCopy<T>(data: T): T {\n    return JSON.parse(JSON.stringify(data));\n}\n\n/**\n * SVG 转为 Image\n *\n * @export\n * @param {SVGSVGElement} svgElem\n * @param {keyof typeof SVG_TYPE} [type=SVG_TYPE.blob]\n * @return {*}  {Promise<HTMLImageElement>}\n */\nexport function SVGToImage(\n    svgElem: SVGSVGElement,\n    type: keyof typeof SVG_TYPE = SVG_TYPE.blob,\n): Promise<HTMLImageElement> {\n    const svgString = new XMLSerializer().serializeToString(svgElem);\n\n    const image = new Image();\n\n    switch (type) {\n        case SVG_TYPE.blob: {\n            image.src = URL.createObjectURL(new Blob([svgString], { type: 'image/svg+xml;charset=utf-8' }));\n            break;\n        }\n        case SVG_TYPE.base64: {\n            image.src = `data:image/svg+xml,${encodeURIComponent(svgString)}`;\n            break;\n        }\n        default: {\n            return Promise.reject(new Error(`SVG type invalid`));\n        }\n    }\n\n    return new Promise((resolve, reject) => {\n        image.onload = () => resolve(image);\n        image.onerror = err => reject(err);\n    });\n}\n\n/**\n * Blob 转为  DataURL\n *\n * @export\n * @param {Blob} blob\n * @return {(Promise<string | ArrayBuffer | null>)}\n */\nexport async function blobToDataURL(blob: Blob): Promise<string | ArrayBuffer | null> {\n    return new Promise((resolve, reject) => {\n        const reader = new FileReader();\n        reader.onload = () => {\n            const dataURL = reader.result;\n            resolve(dataURL);\n        };\n        reader.onerror = err => reject(err);\n        reader.readAsDataURL(blob);\n    });\n}\n\n/**\n * DataURL 转为 Blob\n *\n * @export\n * @param {string} dataURL\n * @return {Blob}\n */\nexport function dataURLToBlob(dataURL: string): Blob {\n    const [prefix, data] = dataURL.split(',');\n\n    let temp = prefix.match(/:(.*?);/);\n\n    const mime = temp ? temp[0] : '';\n\n    const base64 = atob(data);\n    let n = base64.length;\n    const u8arr = new Uint8Array(n);\n    while (n--) {\n        u8arr[n] = base64.charCodeAt(n);\n    }\n    return new Blob([u8arr], { type: mime });\n}\n\n/**\n * 获取缩略图\n *\n * @param {string} src - 图片地址\n * @return {Blob}\n */\nexport async function getThumbnailBlob(src: string): Promise<Blob> {\n    const image = await loadImage(src);\n\n    const { width, height } = image;\n\n    const widthThreshold = 600; // 宽度阀值\n\n    let dWidth = width,\n        dHeight = height;\n\n    if (width < height) {\n        // 竖图\n        dWidth = widthThreshold;\n        dHeight = widthThreshold * (height / width);\n    } else if (width > height) {\n        // 横图\n        dWidth = widthThreshold * (width / height);\n        dHeight = widthThreshold;\n    } else {\n        // 等宽高\n        dWidth = widthThreshold;\n        dHeight = widthThreshold;\n    }\n\n    const canvasElem = document.createElement('canvas');\n    const ctx = canvasElem.getContext('2d');\n\n    // 宽度等比缩放\n    canvasElem.width = dWidth;\n    canvasElem.height = dHeight;\n\n    ctx?.drawImage(image, 0, 0, Math.floor(width), Math.floor(height), 0, 0, Math.floor(dWidth), Math.floor(dHeight));\n\n    return new Promise((resolve: (blob: Blob) => void, reject) => {\n        canvasElem.toBlob(\n            blob => {\n                blob ? resolve(blob) : reject(new Error('Blob empey'));\n            },\n            'image/png',\n            0.95,\n        );\n    });\n}\n","export const rgbToHex = (r: number, g: number, b: number) => {\n    return '#' + [r, g, b].map(x => x.toString(16).padStart(2, '0')).join('');\n};\n\nexport const hexToRgb = (hex: string) => {\n    const { r, g, b } = convertHEXToRGB(hex);\n    return [r, g, b] as [number, number, number];\n};\n\n/**\n * rgb 颜色转为 hex\n *\n * @link {https://css-tricks.com/converting-color-spaces-in-javascript/}\n *\n * @export\n * @param {string} rgb\n * @returns\n */\nexport function convertRGBToHEX(rgb: string) {\n    const sep = rgb.indexOf(',') > -1 ? ',' : ' ';\n    let [r, g, b] = rgb\n        .substr(4)\n        .split(')')[0]\n        .split(sep)\n        .map(v => Number(v));\n\n    return rgbToHex(r, g, b);\n}\n\n/**\n * hex 颜色转化 rgb\n *\n * @export\n * @param {string} hex\n * @returns\n */\nexport function convertHEXToRGB(hex: string) {\n    hex = hex.substr(1);\n    const R = hex.slice(0, 2);\n    const G = hex.slice(2, 4);\n    const B = hex.slice(4, 6);\n\n    return {\n        r: parseInt(R, 16),\n        g: parseInt(G, 16),\n        b: parseInt(B, 16),\n    };\n}\n\n// import { $Keys } from 'utility-types';\n// 等同于 $Keys<typeof ReturnType<convertHEXtoRGB>>;\ntype TypeRGBKeys = keyof ReturnType<typeof convertHEXToRGB>;\n\n/**\n * 将一组 hex 颜色 转为 RGB\n *\n * @param {string[]} colors\n */\nexport function colorsListToRGBValues(colors: string[]) {\n    const rgbValues = colors.reduce(\n        (prev, item) => {\n            const rgbSet = convertHEXToRGB(item);\n\n            Object.keys(rgbSet).forEach((k: string) => {\n                const key = k as TypeRGBKeys;\n                rgbSet[key] = Math.round((rgbSet[key] / 255) * 100) / 100;\n            });\n\n            prev.r.push(rgbSet.r);\n            prev.g.push(rgbSet.g);\n            prev.b.push(rgbSet.b);\n\n            return prev;\n        },\n        { r: [], g: [], b: [] } as { [key in TypeRGBKeys]: number[] },\n    );\n\n    return rgbValues;\n}\n","import { IDictionary } from '@/types';\nimport { Assign } from 'utility-types';\nimport { deepCopy } from '@/utils';\n\nimport { colorsListToRGBValues } from '@/utils/color';\n\nimport _palettes from './palettes.json';\nimport presets from './presets.json';\n\nexport const palettes = _palettes;\n\nexport const CONFIG = {\n    playgrounds: presets.primitives,\n    filter: {\n        x: '-10%',\n        y: '-10%',\n        width: '120%',\n        height: '120%',\n        filterUnits: 'objectBoundingBox',\n        primitiveUnits: 'userSpaceOnUse',\n        colorInterpolationFilters: 'sRGB',\n    },\n    imageOpacity: 0.5,\n    blendMode: 'normal',\n    grayscaleType: 'red',\n};\n\nexport const LIST_BLENDMODES = [\n    'normal',\n    'multiply',\n    'screen',\n    'overlay',\n    'darken',\n    'lighten',\n    'color-dodge',\n    'color-burn',\n    'hard-light',\n    'soft-light',\n    'difference',\n    'exclusion',\n    'hue',\n    'saturation',\n    'color',\n    'luminosity',\n];\n\nexport const LIST_TYPES = [\n    {\n        id: 'red',\n        name: 'Red',\n        value: `1 0 0 0 0\n              1 0 0 0 0\n              1 0 0 0 0\n              0 0 0 1 0`,\n    },\n    {\n        id: 'green',\n        name: 'Green',\n        value: `0 1 0 0 0\n              0 1 0 0 0\n              0 1 0 0 0\n              0 0 0 1 0`,\n    },\n    {\n        id: 'blue',\n        name: 'Blue',\n        value: `0 0 1 0 0\n              0 0 1 0 0\n              0 0 1 0 0\n              0 0 0 1 0`,\n    },\n    {\n        id: 'all',\n        name: 'All',\n        value: `.33 .33 .33 0 0\n              .33 .33 .33 0 0\n              .33 .33 .33 0 0\n              0 0 0 1 0`,\n    },\n];\n\nexport const palatteFilters = palettes.map(palette => {\n    const { filter, playgrounds: originPlaygrounds, imageOpacity, blendMode, grayscaleType } = deepCopy(CONFIG);\n\n    const playgrounds = getFilterPlaygrounds({\n        palette,\n        playgrounds: originPlaygrounds,\n        imageOpacity,\n        blendMode,\n        grayscaleType,\n    });\n\n    return {\n        filterId: `ORIGIN__${palette.id}`,\n        filter,\n        playgrounds,\n        palette,\n    };\n});\n\nexport function getFilterPlaygrounds({\n    playgrounds,\n    palette,\n    imageOpacity = 0,\n    blendMode = 'normal',\n    grayscaleType = 'red',\n}: Assign<\n    Pick<typeof CONFIG, 'playgrounds' | 'imageOpacity' | 'blendMode' | 'grayscaleType'>,\n    { palette: typeof palettes[0]; playgrounds: {}[] }\n>) {\n    const rgbValues = colorsListToRGBValues(palette.colors);\n\n    const propsSet = Object.keys(rgbValues).reduce(\n        (prev, key) => {\n            const id = `func${key.toUpperCase()}`;\n\n            prev[id] = {\n                id,\n                param: 'tableValues',\n                value: rgbValues[key as keyof typeof rgbValues].join(' '),\n            };\n\n            return prev;\n        },\n        {\n            funcA: {\n                id: 'funcA',\n                param: 'tableValues',\n                value: `0 ${imageOpacity}`,\n            },\n        } as IDictionary,\n    );\n\n    return playgrounds.map((playground: IDictionary) => {\n        switch (playground.id) {\n            case 'colormatrix': {\n                const { value } = LIST_TYPES.find(i => i.id === grayscaleType) ?? {};\n                playground.params.values = { value };\n                break;\n            }\n            case 'componentTransfer': {\n                playground.children = playground.children.map((item: any) => {\n                    const { param, value } = (propsSet[item.id] || {}) as any;\n                    (item.params || {})[param] = { value };\n                    return item;\n                });\n                break;\n            }\n            case 'blend': {\n                playground.params.mode = { value: blendMode };\n                break;\n            }\n        }\n\n        return playground;\n    });\n}\n","import { action, computed } from 'easy-peasy';\n\nimport { ISVGModel } from '@/types/store/SVG';\n\nimport { deepCopy } from '@/utils';\nimport { LIST_BLENDMODES, LIST_TYPES, getFilterPlaygrounds, CONFIG, palatteFilters, palettes } from './data';\n\nconst SVGModel: ISVGModel = {\n    ...deepCopy({\n        palettes, // 调色板\n        paletteId: 'teal-white',\n        config: { ...CONFIG },\n        blendModeList: LIST_BLENDMODES,\n        typesList: LIST_TYPES,\n        colorTypeList: ['sRGB', 'linearRGB'],\n        palatteFilters,\n    }),\n\n    // ----------------------------------------------\n    // computed\n    options: computed(({ paletteId, config, palettes }) => {\n        return {\n            filterId: `FILTER__${paletteId}`,\n            filter: config.filter,\n            palette: palettes.find(({ id }) => paletteId === id),\n            imageOpacity: config.imageOpacity,\n            blendMode: config.blendMode,\n            grayscaleType: config.grayscaleType,\n            colorInterpolationFilters: config.filter.colorInterpolationFilters,\n        };\n    }),\n    getFilterConfig: computed(({ config }) => {\n        return ({ palette, imageOpacity, blendMode, grayscaleType, colorInterpolationFilters }) => {\n            if (!palette) {\n                return null;\n            }\n            const playgrounds = getFilterPlaygrounds({\n                playgrounds: config.playgrounds,\n                palette,\n                imageOpacity,\n                blendMode,\n                grayscaleType,\n            });\n\n            const filter = {\n                ...config.filter,\n                colorInterpolationFilters,\n            };\n\n            return {\n                id: `FILTER__${palette.id}`,\n                playgrounds,\n                filter,\n                palette,\n            };\n        };\n    }),\n\n    // ----------------------------------------------\n    // action\n    setPalatteId: action((state, id) => {\n        state.paletteId = id;\n    }),\n    setPalatte: action((state, palette) => {\n        state.palettes = state.palettes.map(item => {\n            if (state.paletteId === item.id) {\n                item = {\n                    ...item,\n                    ...palette,\n                };\n            }\n            return item;\n        });\n    }),\n    setConfig: action(({ config }, { imageOpacity, blendMode, grayscaleType, colorInterpolationFilters }) => {\n        config.imageOpacity = imageOpacity ?? config.imageOpacity;\n        config.blendMode = blendMode ?? config.blendMode;\n        config.grayscaleType = grayscaleType ?? config.grayscaleType;\n        config.filter.colorInterpolationFilters = colorInterpolationFilters ?? config.filter.colorInterpolationFilters;\n    }),\n};\n\nexport default SVGModel;\n","import { createStore, createTypedHooks } from 'easy-peasy';\n\nimport common from './common';\nimport effect from './effect';\nimport SVG from './SVG';\n\nexport const storeModel = {\n    common,\n    effect,\n    SVG,\n};\n\nexport const store = createStore(storeModel);\n\n// hook\nconst typedHooks = createTypedHooks<typeof storeModel>();\n\nexport const useStoreActions = typedHooks.useStoreActions;\nexport const useStore = typedHooks.useStore;\nexport const useStoreDispatch = typedHooks.useStoreDispatch;\nexport const useStoreState = typedHooks.useStoreState;\n","import { createBrowserHistory } from 'history';\n\nconst history = createBrowserHistory();\n\nexport default history;\n","import React, { ReactNode } from 'react';\n\nimport styles from './styles.module.scss';\n\nexport default function LayoutIndex(props: { children?: ReactNode }) {\n    const { children } = props;\n    return (\n        <main className={styles.layout}>\n            <div className={styles.box}>{children}</div>\n        </main>\n    );\n}\n","import Localforage from 'localforage';\n\nexport const localforage = Localforage.createInstance({\n    name: 'FILTER',\n});\n/**\n * 设置本地缓存\n *\n * @param {string} key\n * @param {T} value\n */\nexport async function setItem<T>(key: string, value: T) {\n    try {\n        await localforage.setItem(key, value);\n    } catch (err) {\n        console.log(err);\n        return Promise.reject(err);\n    }\n}\n\n/**\n * 获取本地缓存\n *\n * @param {string} key\n * @param {T} [defaultValue]\n */\nexport async function getItem<T = any>(key: string, defaultValue?: T): Promise<T> {\n    try {\n        const value = (await localforage.getItem(key)) as T | undefined;\n\n        if (!value) {\n            return defaultValue as T;\n        }\n        return value as T;\n    } catch (err) {\n        console.log(err);\n        return Promise.reject(err);\n    }\n}\n\n/**\n *  删除本地缓存\n *\n * @param {string} key\n */\nexport async function removeItem(key: string) {\n    localStorage.removeItem(key);\n    try {\n        await localforage.getItem(key);\n    } catch (err) {\n        console.log(err);\n        return Promise.reject(err);\n    }\n}\n","import { useState, useCallback, useEffect } from 'react';\nimport { localforage } from '@/utils/localforage';\nimport { STORAGE_FILE } from '@/constants';\n\ninterface IData {\n    base64: string;\n    [key: string]: any;\n}\n\n/**\n *  文件 localforage hook\n *\n */\nexport function useLocalforage() {\n    const [state, setState] = useState<IData>({ base64: '' });\n    const getItem = useCallback(async () => {\n        const store = (await localforage.getItem(STORAGE_FILE)) as IData;\n        // console.log('#getItem', store);\n        return {\n            ...state,\n            ...store,\n        };\n    }, [state]);\n\n    const setItem = useCallback(\n        async (data: IData) => {\n            setState({\n                ...state,\n                ...data,\n            });\n            await localforage.setItem(STORAGE_FILE, data);\n            // console.log('#setItem', data);\n        },\n        [state],\n    );\n    return [getItem, setItem] as [() => Promise<IData>, (data: IData) => Promise<void>];\n}\n\n/**\n *  读取缓存中 base64 hook\n *\n */\nexport function useBase64() {\n    const [base64, setBase64] = useState('');\n    const [getStore, setStore] = useLocalforage();\n\n    useEffect(() => {\n        (async () => {\n            const data = await getStore();\n            // console.log('#test', data);\n            setBase64(data.base64);\n        })();\n    }, [getStore]);\n\n    const setter = async (base64: string) => {\n        const data = await getStore();\n        setBase64(base64);\n        await setStore({\n            ...data,\n            base64,\n        });\n    };\n\n    return [base64, setter] as [string, (base64: string) => Promise<void>];\n}\n","import React, { useRef, useState, useEffect } from 'react';\n// import { Assign } from 'utility-types';\nimport CN from 'classnames';\nimport styles from './styles.module.less';\n\nexport default function CameraIndex(props: { visible: boolean; onClose: Function; onInput?: Function }) {\n    // const [playing, setPlaying] = useState(false);\n    const [width, setWidth] = useState(0);\n    const [height, setHeight] = useState(0);\n\n    const { visible, onClose, onInput } = props;\n    const closeHandle = () => {\n        // setPlaying(false);\n        onClose();\n    };\n    const canvasEl = useRef<HTMLCanvasElement>(null),\n        videoEl = useRef<HTMLVideoElement>(null);\n\n    const inputEl = useRef<HTMLInputElement>(null);\n\n    const playingHandler = () => {\n        const video = videoEl.current;\n        if (!video) return;\n        const vh = window.innerHeight;\n        const { offsetWidth, offsetHeight } = video;\n\n        setWidth(offsetWidth * (vh / offsetHeight));\n        setHeight(vh);\n        // setPlaying(true);\n    };\n\n    const webRtcCamera = () => {\n        const getUserMedia = (navigator.mediaDevices || {}).getUserMedia;\n        if (!getUserMedia) {\n            return Promise.reject({ msg: 'WebRTC is not surppotted' });\n        }\n\n        const video = videoEl.current as any; // TODO\n        return navigator.mediaDevices\n            .getUserMedia({ audio: false, video: true })\n            .then(stream => {\n                if ('srcObject' in video) {\n                    video.srcObject = stream;\n                } else {\n                    video.src = window.URL.createObjectURL(stream);\n                }\n                video.onloadedmetadata = () => video.play();\n            })\n            .catch(err => {\n                /* handle the error */\n                console.log(err);\n            });\n    };\n\n    useEffect(() => {\n        if (visible && videoEl.current) {\n            webRtcCamera();\n        }\n    }, [visible]);\n\n    const shotHandler = () => {\n        const canvas = canvasEl.current;\n        const video = videoEl.current;\n        console.log('shot', video, video);\n        if (!canvas || !video) return;\n\n        const { width, height } = canvas;\n        console.log('width=', width, height);\n        const ctx = canvas.getContext('2d');\n        console.log('ctx', ctx);\n        if (!ctx) return;\n\n        video.pause();\n        ctx.drawImage(video, 0, 0, width, height);\n        const base64 = canvas.toDataURL('image/jpeg');\n\n        console.log('base64');\n\n        onInput && onInput(base64);\n        closeHandle();\n    };\n\n    const changeHandler = async (e: React.ChangeEvent<HTMLInputElement>) => {\n        console.log(e);\n        const file = (inputEl.current?.files || [])[0];\n\n        const reader = new FileReader();\n        reader.onload = async () => {\n            const base64 = reader.result;\n            closeHandle();\n            onInput && (await onInput(base64, file));\n        };\n        reader.readAsDataURL(file);\n    };\n\n    return (\n        <div className={CN([styles.camera, visible ? styles.show : ''])}>\n            <div className={styles.video}>\n                {visible && (\n                    <video\n                        onPlaying={playingHandler}\n                        ref={videoEl}\n                        autoPlay\n                        x-webkit-airplay=\"airplay\"\n                        webkit-playsinline=\"playsinline\"\n                        playsInline\n                        muted\n                    />\n                )}\n            </div>\n            {<canvas ref={canvasEl} width={width} height={height} />}\n            <div className={styles.mask}></div>\n            <span role=\"button\" className={styles.close} onClick={closeHandle}>\n                &times;\n            </span>\n            <button className={styles.icon}>\n                <input ref={inputEl} type=\"file\" accept=\"image/*\" onChange={changeHandler} />\n            </button>\n            <button onClick={shotHandler} className={styles.shot}></button>\n        </div>\n    );\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  stroke: \"#FFF\",\n  strokeWidth: 2.5,\n  fill: \"none\",\n  fillRule: \"evenodd\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 15h30M15 0v30\"\n}));\n\nvar SvgPlus = function SvgPlus(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 30 30\",\n    className: \"icon\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgPlus, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/plus.43c6244b.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M4.98021 5.58656H3.69981C2.30253 5.58656 1.16982 6.67967 1.16982 8.0281V17.0143C1.16982 18.3627 2.30253 19.4559 3.69981 19.4559H18.0365C19.4338 19.4559 20.5665 18.3627 20.5665 17.0143V8.0281C20.5665 6.67967 19.4338 5.58656 18.0365 5.58656H16.7555L15.84 4.24428C15.372 3.5581 14.5779 3.14502 13.7267 3.14502H8.00935C7.15829 3.14502 6.36425 3.55795 5.89624 4.24392L4.98021 5.58656ZM10.8681 16.5904C8.43349 16.5904 6.45981 14.6168 6.45981 12.1821C6.45981 9.74745 8.43349 7.77377 10.8681 7.77377C13.3028 7.77377 15.2765 9.74745 15.2765 12.1821C15.2765 14.6168 13.3028 16.5904 10.8681 16.5904ZM13.954 12.1821C13.954 13.8864 12.5724 15.2679 10.8681 15.2679C9.16389 15.2679 7.78231 13.8864 7.78231 12.1821C7.78231 10.4778 9.16389 9.09627 10.8681 9.09627C12.5724 9.09627 13.954 10.4778 13.954 12.1821Z\",\n  fill: \"white\"\n});\n\nvar SvgCamera = function SvgCamera(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 22 22\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgCamera, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/camera.ab4c0d1f.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  fill: \"currentColor\",\n  fillRule: \"evenodd\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M3 2h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1zm0 8h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1v-2a1 1 0 0 1 1-1zm0 8h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1v-2a1 1 0 0 1 1-1z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M11 2h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1zm0 8h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-2a1 1 0 0 1 1-1zm0 8h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-2a1 1 0 0 1 1-1z\",\n  opacity: 0.45\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 2h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1zm0 8h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-2a1 1 0 0 1 1-1zm0 8h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-2a1 1 0 0 1 1-1z\",\n  opacity: 0.15\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M7 6h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm0 8h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1v-2a1 1 0 0 1 1-1z\",\n  opacity: 0.7\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M15 6h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm0 8h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-2a1 1 0 0 1 1-1z\",\n  opacity: 0.3\n}));\n\nvar SvgTransparency = function SvgTransparency(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 24 24\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgTransparency, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/transparency.f4c2a1f6.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M57.9556 15.5291L50.8868 22.5979C52.8911 24.6058 54.4452 27.0182 55.4478 29.6597L65.2025 27.0459L65.7201 28.9778L56.0641 31.5651C56.7833 34.2394 56.9544 37.0926 56.4831 39.9613L66.2378 42.5751L65.7201 44.5069L56.0609 41.9187C55.1178 45.4381 53.2926 48.4856 50.8868 50.8868L57.9556 57.9556L56.5413 59.3698L49.4004 52.2289C47.2114 54.0151 44.6593 55.3272 41.9196 56.0641L44.5069 65.7201L42.5751 66.2378L39.9622 56.4864C37.2471 56.9309 34.3961 56.8192 31.566 56.0609L28.9778 65.7201L27.0459 65.2025L29.6597 55.4478C26.9396 54.4216 24.5543 52.8469 22.5979 50.8868L15.5291 57.9555L14.1149 56.5413L21.2558 49.4004C19.4696 47.2114 18.1575 44.6593 17.4206 41.9196L7.76456 44.5069L7.24692 42.5751L16.9982 39.9622C16.5538 37.2471 16.6655 34.3961 17.4238 31.566L7.76457 28.9778L8.28221 27.0459L18.0369 29.6597C18.8164 27.5935 19.9124 25.7204 21.2534 24.0818L14.1149 16.9434L15.5292 15.5291L22.5979 22.5979C24.6058 20.5936 27.0183 19.0395 29.6597 18.0369L27.0459 8.28221L28.9778 7.76457L31.5651 17.4206C34.2395 16.7013 37.0926 16.5303 39.9613 17.0016L42.5751 7.24693L44.5069 7.76457L41.9187 17.4238C44.7488 18.1822 47.2738 19.511 49.4029 21.2534L56.5413 14.1149L57.9556 15.5291ZM32.0836 54.129C41.686 56.702 51.5561 51.0035 54.129 41.4011C56.702 31.7987 51.0035 21.9286 41.4011 19.3557C31.7987 16.7827 21.9286 22.4812 19.3557 32.0836C16.7827 41.686 22.4812 51.5561 32.0836 54.129Z\"\n});\n\nvar SvgBrightness = function SvgBrightness(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 74,\n    height: 74,\n    viewBox: \"0 0 74 74\",\n    fill: \"#fff\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgBrightness, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/brightness.9a14249c.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M21.3146 0.531598L20 1.16279L18.6854 0.531598C18.9738 0.200161 19.4688 -1.38615e-07 20 0C20.5312 6.93078e-08 21.0262 0.200162 21.3146 0.531598ZM20 3.36735C19.8864 3.50648 19.7666 3.65403 19.6408 3.80968C18.5978 5.10074 17.1519 6.94718 15.5451 9.16332C12.3255 13.6039 8.48583 19.4934 5.93477 25.3576C3.35922 31.2781 2.20747 36.932 3.99044 41.0305C4.86143 43.0327 6.42892 44.6571 8.91468 45.7999C11.4288 46.9558 15.0048 47.6744 20 47.6744C24.9952 47.6744 28.5712 46.9558 31.0853 45.7999C33.5711 44.6571 35.1386 43.0327 36.0096 41.0305C37.7925 36.932 36.6408 31.2781 34.0652 25.3576C31.5142 19.4934 27.6745 13.6039 24.4549 9.16332C22.8481 6.94718 21.4023 5.10074 20.3592 3.80968C20.2335 3.65403 20.1136 3.50648 20 3.36735ZM18.6846 0.532578C18.6851 0.531997 18.6854 0.531598 20 1.16279C21.3146 0.531598 21.3149 0.531998 21.3154 0.532579L21.3236 0.542038L21.3476 0.569698L21.4385 0.675591C21.5179 0.768299 21.634 0.904761 21.7832 1.08206C22.0814 1.43665 22.5116 1.95471 23.0434 2.61292C24.1067 3.92906 25.5773 5.80718 27.2111 8.06052C30.4726 12.5589 34.4102 18.588 37.044 24.6424C39.6534 30.6405 41.0941 36.9053 38.9884 41.7457C37.915 44.213 35.9179 46.3131 32.7327 47.7775C29.5758 49.2288 25.3745 50 20 50C14.6255 50 10.4242 49.2288 7.26728 47.7775C4.08208 46.3131 2.08497 44.213 1.01163 41.7457C-1.09405 36.9053 0.346641 30.6405 2.95597 24.6424C5.58979 18.588 9.52744 12.5589 12.789 8.06052C14.4227 5.80718 15.8933 3.92906 16.9566 2.61292C17.4884 1.95471 17.9186 1.43665 18.2169 1.08206C18.366 0.904761 18.4821 0.768299 18.5615 0.675591L18.6525 0.569697L18.6764 0.542037L18.6846 0.532578Z\"\n});\n\nvar SvgBlend = function SvgBlend(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 40,\n    height: 50,\n    viewBox: \"0 0 40 50\",\n    fill: \"#fff\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgBlend, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/blend.1886116e.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M48 25C48 37.7025 37.7025 48 25 48V25V2C37.7025 2 48 12.2975 48 25ZM2 25C2 21.9796 2.59491 18.9888 3.75077 16.1983C4.90663 13.4078 6.6008 10.8723 8.73655 8.73655C10.8723 6.6008 13.4078 4.90663 16.1983 3.75077C18.9888 2.59491 21.9796 2 25 2C12.2975 2 2 12.2975 2 25ZM8.69344 41.2202C4.5566 37.0615 2 31.3293 2 25C2 28.0204 2.59491 31.0112 3.75077 33.8017C4.89884 36.5734 6.578 39.0935 8.69344 41.2202ZM8.69344 41.2202C8.72214 41.2491 8.75091 41.2779 8.77976 41.3066C8.76534 41.2922 8.75093 41.2778 8.73655 41.2635C8.72216 41.2491 8.70779 41.2347 8.69344 41.2202ZM8.77976 41.3066C10.9065 43.422 13.4266 45.1012 16.1983 46.2492C18.9888 47.4051 21.9796 48 25 48C18.6707 48 12.9385 45.4434 8.77976 41.3066ZM50 25C50 38.8071 38.8071 50 25 50C11.1929 50 0 38.8071 0 25C0 11.1929 11.1929 0 25 0C38.8071 0 50 11.1929 50 25Z\"\n});\n\nvar SvgChannel = function SvgChannel(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 50,\n    height: 50,\n    viewBox: \"0 0 50 50\",\n    fill: \"#fff\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgChannel, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/channel.bd5632a5.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M2.20349 26.999C2.20349 13.1925 13.3959 2 27.2025 2C32.5946 2 37.5879 3.70709 41.6715 6.61029H28.2034C27.6511 6.61029 27.2034 7.05801 27.2034 7.61029C27.2034 8.16258 27.6511 8.61029 28.2034 8.61029H44.1381C45.5457 9.90736 46.8041 11.364 47.8845 12.9515H28.2034C27.6511 12.9515 27.2034 13.3992 27.2034 13.9515C27.2034 14.5038 27.6511 14.9515 28.2034 14.9515H49.1124C49.8692 16.3249 50.5006 17.7772 50.9912 19.2928H28.2034C27.6511 19.2928 27.2034 19.7405 27.2034 20.2928C27.2034 20.845 27.6511 21.2928 28.2034 21.2928H51.5474C51.8755 22.698 52.085 24.1487 52.1649 25.634H28.2034C27.6511 25.634 27.2034 26.0817 27.2034 26.634C27.2034 27.1863 27.6511 27.634 28.2034 27.634H52.1937C52.1566 29.1199 51.9899 30.5737 51.7044 31.9844C51.6599 31.9783 51.6145 31.9752 51.5683 31.9752H28.2034C27.6511 31.9752 27.2034 32.4229 27.2034 32.9752C27.2034 33.5275 27.6511 33.9752 28.2034 33.9752H51.2152C50.7759 35.49 50.1972 36.9455 49.4938 38.3269C49.4465 38.32 49.3981 38.3164 49.3489 38.3164H28.2034C27.6511 38.3164 27.2034 38.7642 27.2034 39.3164C27.2034 39.8687 27.6511 40.3164 28.2034 40.3164H48.3629C47.3609 41.9053 46.1848 43.3735 44.8614 44.6941C44.776 44.6704 44.6859 44.6577 44.5929 44.6577H28.2034C27.6511 44.6577 27.2034 45.1054 27.2034 45.6577C27.2034 46.2099 27.6511 46.6577 28.2034 46.6577H42.6474C38.3957 50.0027 33.0321 51.9981 27.2025 51.9981C13.3959 51.9981 2.20349 40.8056 2.20349 26.999ZM27.2025 0C12.2914 0 0.203491 12.0879 0.203491 26.999C0.203491 41.9102 12.2914 53.9981 27.2025 53.9981C42.1137 53.9981 54.2016 41.9102 54.2016 26.999C54.2016 12.0879 42.1137 0 27.2025 0Z\"\n});\n\nvar SvgInterpolation = function SvgInterpolation(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 55,\n    height: 54,\n    viewBox: \"0 0 55 54\",\n    fill: \"#fff\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgInterpolation, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/interpolation.ac5f8367.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport { IDictionary } from '@/types';\n\nimport { ReactComponent as Plus } from '@/assets/svg/plus.svg';\nimport { ReactComponent as Camera } from '@/assets/svg/camera.svg';\nimport { ReactComponent as Transparency } from '@/assets/svg/transparency.svg';\nimport { ReactComponent as Brightness } from '@/assets/svg/brightness.svg';\nimport { ReactComponent as Blend } from '@/assets/svg/blend.svg';\nimport { ReactComponent as Channel } from '@/assets/svg/channel.svg';\nimport { ReactComponent as Interpolarion } from '@/assets/svg/interpolation.svg';\n\nimport styles from './styles.module.less';\n\nfunction CreateAntIcon(Component: any) {\n    return (props: IDictionary) => (\n        <i className={styles.svg}>\n            <span {...props}>{Component && <Component />}</span>\n        </i>\n    );\n}\n\nexport const CameraIcon = CreateAntIcon(Camera);\nexport const PlusIcon = CreateAntIcon(Plus);\nexport const TransparencyIcon = CreateAntIcon(Transparency);\nexport const BrightnessIcon = CreateAntIcon(Brightness);\nexport const BlendIcon = CreateAntIcon(Blend);\nexport const ChannelIcon = CreateAntIcon(Channel);\nexport const InterpolarionIcon = CreateAntIcon(Interpolarion);\n","import React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nimport { useBase64 } from '@/services/hooks/localforage';\n\n// import CarouselIndex from '@/components/Carousel';\n// import CarouselSlider from '@/components/Carousel/Slider';\nimport Camera from '@/components/Camera';\nimport { CameraIcon } from '@/components/Icon';\n\nimport styles from './styles.module.less';\n\nexport default function HomeIndex() {\n    console.log('HomeIndex');\n    const history = useHistory();\n\n    const [visible, setVisible] = useState(false);\n\n    const [, setBase64] = useBase64();\n\n    const inputHandle = async (base64: string) => {\n        await setBase64(base64);\n        history.push('/effect');\n    };\n    return (\n        <>\n            {/* <CarouselIndex /> */}\n            {/* <CarouselSlider /> */}\n            <header className={styles.header}></header>\n            <button className={styles.button} onClick={() => setVisible(true)}>\n                <CameraIcon className={styles.icon} />\n                <br />\n                <strong>Camera</strong>\n            </button>\n\n            <Camera visible={visible} onClose={() => setVisible(false)} onInput={inputHandle} />\n        </>\n    );\n}\n","import React from 'react';\n\nimport Nouislider from 'nouislider-react';\nimport 'nouislider/distribute/nouislider.css';\nimport wNumb from 'wnumb';\n\n// import { ICallback } from '@/types';\nimport styles from './styles.module.less';\n\nexport default function SliderIndex({ value = 100, onUpdate }: { value?: number; onUpdate?: Function }) {\n    const handler = (\n        values: string[],\n        handle: number,\n        unencodedValues: number[],\n        tap: boolean,\n        positions: number[],\n    ) => {\n        const [val = 100] = unencodedValues;\n\n        // console.log(val);\n        onUpdate && onUpdate(val / 100);\n    };\n\n    return (\n        <>\n            <Nouislider\n                className={styles.slider}\n                step={1}\n                range={{ min: 0, max: 100 }}\n                start={[value * 100]}\n                tooltips={true}\n                format={wNumb({ decimals: 0 })}\n                connect={[true, false]}\n                onUpdate={handler}\n            />\n        </>\n    );\n}\n","import React, { useState } from 'react';\nimport CN from 'classnames';\nimport { useStoreState, useStoreActions } from '@/store';\nimport { useBase64 } from '@/services/hooks/localforage';\n\nimport SliderIndex from '@/components/Slider';\n\nimport styles from './styles.module.less';\nimport filterStyles from './filter.module.less';\n\nexport default function FilterCSSGroup({ onInput, opacity }: { onInput?: Function; opacity: number }) {\n    const { opacity: originOpacity } = useStoreState(({ effect }) => effect.activeFilter);\n\n    const [base64] = useBase64();\n    const list = useStoreState(({ effect }) => effect.CSSgramList);\n    const active = useStoreState(({ effect }) => effect.active);\n\n    const setActive = useStoreActions(({ effect }) => effect.setActive);\n\n    const setOpacity = useStoreActions(({ effect }) => effect.setOpacity);\n\n    const [strength, setStrength] = useState(false);\n\n    const onSelectAndEdit = (index: number, opacity: number) => {\n        if (active === index) {\n            setOpacity(opacity);\n            setStrength(true);\n        } else {\n            setActive(index);\n        }\n    };\n\n    const onUpdate = (opacity: number) => {\n        // setOpacity(opacity);\n        onInput && onInput(opacity);\n    };\n\n    const onDone = () => {\n        setOpacity(opacity);\n        console.log('onDone', opacity);\n        setStrength(false);\n    };\n    const onCancel = () => {\n        setStrength(false);\n        setOpacity(100);\n    };\n\n    return (\n        <>\n            <ul className={styles.list}>\n                {list.map(({ name, className, opacity }, index) => (\n                    <li\n                        key={index}\n                        onClick={() => onSelectAndEdit(index, opacity)}\n                        className={CN([styles.item, active === index && styles.active])}\n                    >\n                        <h2>{name}</h2>\n                        <div className={styles.filterItem}>\n                            {base64 && (\n                                <figure className={CN([filterStyles[className]])}>\n                                    <img src={base64} alt=\"\" />\n                                </figure>\n                            )}\n                        </div>\n                    </li>\n                ))}\n            </ul>\n            {strength && (\n                <div className={styles.layer}>\n                    <div className={styles.slider}>\n                        <SliderIndex value={originOpacity} onUpdate={onUpdate} />\n                    </div>\n                    <aside className={styles.aside}>\n                        <button onClick={onCancel}>Cancel</button>\n                        <button onClick={onDone}>Done</button>\n                    </aside>\n                </div>\n            )}\n        </>\n    );\n}\n","import React, { useState } from 'react';\nimport CN from 'classnames';\nimport FilterCSSGroup from './Group';\n\nimport { useStoreState } from '@/store';\nimport { useBase64 } from '@/services/hooks/localforage';\n\nimport styles from './styles.module.less';\nimport filterStyles from './filter.module.less';\n\nexport default function FilterCSSIndex() {\n    const [base64] = useBase64();\n    const { className, opacity: originOpacity } = useStoreState(({ effect }) => effect.activeFilter);\n\n    const [opacity, setOpacity] = useState(originOpacity);\n\n    return (\n        <>\n            <div className={styles.filter}>\n                {base64 && (\n                    <picture>\n                        <img src={base64} alt=\"\" />\n                        <figure className={CN([filterStyles[className]])} style={{ opacity }}>\n                            <img src={base64} alt=\"\" />\n                        </figure>\n                    </picture>\n                )}\n            </div>\n\n            <aside className={styles.group}>\n                <FilterCSSGroup opacity={opacity} onInput={setOpacity} />\n            </aside>\n        </>\n    );\n}\n","import React, { ReactElement } from 'react';\n\nimport styles from './styles.module.scss';\n\nexport default function LayoutEditor({\n    Banner,\n    Main,\n    Footer,\n    Extra,\n}: {\n    Banner: ReactElement;\n    Main: ReactElement;\n    Footer: ReactElement;\n    Extra?: ReactElement;\n}) {\n    return (\n        <div className={styles.editor}>\n            <aside className={styles.banner}>{Banner}</aside>\n            <main className={styles.main}>{Main}</main>\n            <footer className={styles.footer}>{Footer}</footer>\n            {Extra}\n        </div>\n    );\n}\n","import React, { useEffect, useReducer, useMemo, createContext, ReactElement } from 'react';\nimport { useStoreState } from '@/store';\nimport { useBase64 } from '@/services/hooks/localforage';\n\nimport { getThumbnailBlob } from '@/utils';\nimport { $Values } from 'utility-types';\n\nconst defaltValue = {\n    editing: false,\n    base64: '',\n    thumbnail: '',\n    palette: { id: '', name: '', colors: [] } as { id: string; name: string; colors: string[] },\n    imageOpacity: 0.5,\n    blendMode: '',\n    grayscaleType: '',\n    colorInterpolationFilters: '',\n};\n\ntype IFilterContext = [typeof defaltValue, (payload: Partial<IFilterContext[0]>) => void];\n\nenum ACTION {\n    change = 'Change',\n}\n\nexport const FilterContext = createContext<IFilterContext>([defaltValue, () => {}]);\n\nexport function FilterProvider({ children }: { children: ReactElement }) {\n    const {\n        palette = { id: '', name: '', colors: [] },\n        imageOpacity,\n        blendMode,\n        grayscaleType,\n        colorInterpolationFilters,\n    } = useStoreState(({ SVG }) => SVG.options);\n    const [base64] = useBase64();\n\n    const initialData = {\n        editing: false,\n        base64,\n        thumbnail: base64,\n        palette,\n        imageOpacity,\n        blendMode,\n        grayscaleType,\n        colorInterpolationFilters,\n    };\n    const reducer = (\n        state: IFilterContext[0],\n        action: { type: $Values<typeof ACTION>; payload: Partial<IFilterContext[0]> },\n    ) => {\n        switch (action.type) {\n            case ACTION.change:\n                return { ...state, ...action.payload };\n            default:\n                return state;\n        }\n    };\n\n    const [state, dispatch] = useReducer(reducer, initialData);\n    const setState = (payload: Partial<IFilterContext[0]>) => dispatch({ type: ACTION.change, payload });\n\n    // 使用 useMemo 规避 context 消费的组件 再次render\n    const contextValue = useMemo(() => {\n        return [state, setState] as [typeof state, typeof setState];\n    }, [state]);\n\n    // store 层数据变化，副作用到 context\n    useEffect(() => {\n        (async () => {\n            const data = {\n                base64,\n                thumbnail: state.thumbnail,\n                palette,\n                imageOpacity,\n                blendMode,\n                grayscaleType,\n                colorInterpolationFilters,\n            };\n            // warn: 由于每次生成一个新的 blob URL: => \"blob:http://localhost:3000/266c0711-76dd-4a24-af1f-46a8014204ff\"\n            if (base64 !== state.base64) {\n                const thumbnail = base64 && URL.createObjectURL(await getThumbnailBlob(base64));\n                Object.assign(data, { thumbnail });\n            }\n\n            setState(data);\n        })();\n    }, [\n        state.base64,\n        state.thumbnail,\n        base64,\n        blendMode,\n        colorInterpolationFilters,\n        grayscaleType,\n        imageOpacity,\n        palette,\n    ]);\n\n    return <FilterContext.Provider value={contextValue}>{children}</FilterContext.Provider>;\n}\n","import React, { useContext } from 'react';\nimport { FilterContext } from '../FilterContext';\n\nimport { SVGToImage } from '@/utils';\n\nimport styles from './styles.module.less';\n\nexport default function Banner({ target }: { target: SVGSVGElement | null }) {\n    const [{ editing, palette }] = useContext(FilterContext);\n\n    const { name = '' } = palette ?? {};\n\n    const onSave = async () => {\n        if (!target) return;\n        const image = await SVGToImage(target);\n        target.parentElement?.parentElement?.append(image); // TEST\n    };\n    return (\n        <div className={styles.banner}>\n            <div className={styles.center}>{name}</div>\n            <div className={styles.right}>\n                {!editing && (\n                    <button className={styles.save} onClick={() => onSave()}>\n                        Done\n                    </button>\n                )}\n            </div>\n        </div>\n    );\n}\n","import blend from './blend.json';\nimport blur from './blur.json';\nimport colormatrix from './colormatrix.json';\nimport componentTransfer from './componentTransfer.json';\nimport composite from './composite.json';\nimport convolveMatrix from './convolveMatrix.json';\nimport diffuseLighting from './diffuseLighting.json';\nimport displacementMap from './displacementMap.json';\nimport distantLight from './distantLight.json';\nimport dropShadow from './dropShadow.json';\nimport flood from './flood.json';\nimport funcR from './funcR.json';\nimport funcG from './funcG.json';\nimport funcB from './funcB.json';\nimport funcA from './funcA.json';\nimport image from './image.json';\nimport merge from './merge.json';\nimport mergeNode from './mergeNode.json';\nimport morphology from './morphology.json';\nimport offset from './offset.json';\nimport pointLight from './pointLight.json';\nimport specularLighting from './specularLighting.json';\nimport spotLight from './spotLight.json';\nimport tile from './tile.json';\nimport turbulence from './turbulence.json';\n\nexport default {\n    x: 0,\n    y: 0,\n    width: '100%',\n    height: '100%',\n    in: ['SourceGraphic', 'SourceAlpha'],\n    in2: ['SourceGraphic', 'SourceAlpha'],\n    // include\n    blend,\n    blur,\n    colormatrix,\n    componentTransfer,\n    convolveMatrix,\n    composite,\n    diffuseLighting,\n    displacementMap,\n    distantLight,\n    dropShadow,\n    flood,\n    funcR,\n    funcG,\n    funcB,\n    funcA,\n    image,\n    tile,\n    merge,\n    mergeNode,\n    morphology,\n    offset,\n    pointLight,\n    specularLighting,\n    spotLight,\n    turbulence,\n};\n","import React, { ReactNode } from 'react';\nimport attributes from '@/store/SVG/attributes';\n\nexport default function Filter({ id, filter, playgrounds }: { id: string; filter: Object; playgrounds: {}[] }) {\n    return (\n        <filter id={id} {...filter}>\n            {playgrounds.map((primitive: any, index: number) => {\n                let { children } = primitive;\n\n                children = !children\n                    ? null\n                    : children.map((item: any, index: number) => <Primitive key={index} primitive={item} />);\n\n                return <Primitive key={index} primitive={primitive} children={children} />;\n            })}\n        </filter>\n    );\n}\n\nfunction Primitive({ primitive, children }: { primitive: any; children?: ReactNode }) {\n    const { groupName, params } = primitive;\n    const attribute = (attributes as any)[groupName] as any;\n\n    const options = Object.keys(params).reduce((prev, key) => {\n        const { value, disabled } = params[key];\n        if (!disabled) {\n            prev[key] = value;\n        }\n        return prev;\n    }, {} as any);\n\n    return <attribute.name {...options}>{children}</attribute.name>;\n}\n","import React, { useState, useContext, forwardRef, DetailedHTMLProps, LegacyRef, SVGAttributes } from 'react';\nimport { useStoreState } from '@/store';\nimport { FilterContext } from '../FilterContext';\n\nimport Filter from '@/components/SVGFilter';\n\nimport styles from './styles.module.less';\n\nexport default forwardRef(MainSvg);\n\nfunction MainSvg(props: DetailedHTMLProps<SVGAttributes<SVGSVGElement>, SVGSVGElement>, ref: LegacyRef<SVGSVGElement>) {\n    const [{ base64, palette, imageOpacity, blendMode, grayscaleType, colorInterpolationFilters }] = useContext(\n        FilterContext,\n    );\n\n    const { palatteFilters, getFilterConfig } = useStoreState(({ SVG }) => SVG);\n\n    const { id = '', filter = {}, playgrounds = [] } =\n        getFilterConfig({\n            palette,\n            imageOpacity,\n            blendMode,\n            grayscaleType,\n            colorInterpolationFilters,\n        }) || {};\n\n    const { width, height } = { width: 750, height: 1000 };\n    const viewBoxValue = [0, 0, width, height];\n\n    const [hasOrigin, setHasOrigin] = useState(false);\n    const hanleStart = () => setHasOrigin(true);\n    const handleEnd = () => setHasOrigin(false);\n    return (\n        <>\n            <svg\n                onTouchStart={hanleStart}\n                onTouchEnd={handleEnd}\n                onMouseDown={hanleStart}\n                onMouseUp={handleEnd}\n                onMouseLeave={handleEnd}\n                ref={ref}\n                className={styles.svg}\n                xmlns=\"http://www.w3.org/2000/svg\"\n                xmlnsXlink=\"http://www.w3.org/1999/xlink\"\n                preserveAspectRatio=\"xMidYMid slice\"\n                viewBox={viewBoxValue.join(' ')}\n                width={width}\n                height={height}\n            >\n                <defs>\n                    {/* thumbnail filter */}\n                    {palatteFilters.map(({ filterId, filter, playgrounds }) => (\n                        <Filter key={filterId} id={filterId} filter={filter} playgrounds={playgrounds} />\n                    ))}\n                    {/* live filter */}\n                    <Filter id={hasOrigin ? `${id}.` : id} filter={filter} playgrounds={playgrounds} />\n                </defs>\n                <g>\n                    <image xlinkHref={base64} width=\"100%\" height=\"100%\" />\n                    <image xlinkHref={base64} width=\"100%\" height=\"100%\" filter={`url(#${id})`} />\n                </g>\n            </svg>\n        </>\n    );\n}\n","import React from 'react';\n\nimport CN from 'classnames';\nimport styles from './styles.module.less';\n\nexport default function ScrollSnap({ list }: { list: any[] }) {\n    const handleSelect = (item: any, index: number) => {};\n    return (\n        <div className={styles.scrollWrap}>\n            <ul className={styles.scroll}>\n                {list.map((item, index) => (\n                    <li key={index} onClick={() => handleSelect(item, index)} className={CN([styles.item, styles.cl])}>\n                        {item.children}\n                    </li>\n                ))}\n            </ul>\n        </div>\n    );\n}\n","import React, { useState, useContext, FormEvent } from 'react';\nimport { useStoreState, useStoreActions } from '@/store';\n\nimport { FilterContext } from '../../FilterContext';\n\nimport { SVG_EDITOR_TYPE } from '@/constants';\n\nimport SliderIndex from '@/components/Slider';\n\n// import CN from 'classnames';\nimport styles from './styles.module.less';\n\nexport default function Operator({ type, onClose }: { type: string; onClose?: Function }) {\n    const [{ imageOpacity, blendMode, grayscaleType, colorInterpolationFilters }, setCtx] = useContext(FilterContext);\n\n    const { blendModeList, typesList, colorTypeList } = useStoreState(({ SVG }) => SVG);\n    const { setConfig } = useStoreActions(({ SVG }) => SVG);\n\n    // 初始状态\n    const [state] = useState({ imageOpacity, blendMode, grayscaleType, colorInterpolationFilters });\n\n    const onDone = () => {\n        setConfig({ imageOpacity, blendMode, grayscaleType, colorInterpolationFilters });\n        onClose && onClose();\n    };\n    const onCancel = () => {\n        setCtx(state);\n        onClose && onClose();\n    };\n\n    if (!type) return <></>;\n\n    const getOperator = () => {\n        switch (type) {\n            case SVG_EDITOR_TYPE.Transparency: {\n                const onUpdate = (imageOpacity: number) => setCtx({ imageOpacity });\n                return <SliderIndex value={state.imageOpacity} onUpdate={onUpdate} />;\n            }\n            case SVG_EDITOR_TYPE.Blend: {\n                const onChange = (event: FormEvent<HTMLSelectElement>) =>\n                    setCtx({ blendMode: event.currentTarget.value });\n                return (\n                    <select onChange={onChange} value={blendMode}>\n                        {blendModeList.map((name: string) => {\n                            return (\n                                <option key={name} value={name}>\n                                    {name}\n                                </option>\n                            );\n                        })}\n                    </select>\n                );\n            }\n            case SVG_EDITOR_TYPE.Channel: {\n                const onChange = (event: FormEvent<HTMLSelectElement>) =>\n                    setCtx({ grayscaleType: event.currentTarget.value });\n                return (\n                    <select onChange={onChange} value={grayscaleType}>\n                        {typesList.map(({ name, id }: any) => {\n                            return (\n                                <option key={id} value={id}>\n                                    {name}\n                                </option>\n                            );\n                        })}\n                    </select>\n                );\n            }\n            case SVG_EDITOR_TYPE.Interpolation: {\n                const onChange = (event: FormEvent<HTMLSelectElement>) =>\n                    setCtx({ colorInterpolationFilters: event.currentTarget.value });\n                return (\n                    <select onChange={onChange} value={colorInterpolationFilters}>\n                        {colorTypeList.map((name: string) => {\n                            return (\n                                <option key={name} value={name}>\n                                    {name}\n                                </option>\n                            );\n                        })}\n                    </select>\n                );\n            }\n            default:\n                return <></>;\n        }\n    };\n\n    return (\n        <div className={styles.operator}>\n            <div className={styles.slider}>{getOperator()}</div>\n            <aside className={styles.aside}>\n                <button onClick={onCancel}>Cancel</button>\n                <button onClick={onDone}>Done</button>\n            </aside>\n        </div>\n    );\n}\n","import React, { useState, useContext } from 'react';\n\nimport { SVG_EDITOR_TYPE } from '@/constants';\n\nimport ScrollSnap from '@/components/ScrollSnap';\nimport { BrightnessIcon, BlendIcon, ChannelIcon, InterpolarionIcon } from '@/components/Icon';\n\nimport Operator from './Operator';\nimport { FilterContext } from '../../FilterContext';\n\n// import CN from 'classnames';\nimport styles from './styles.module.less';\n\nconst actionList = [\n    { type: SVG_EDITOR_TYPE.Transparency, icon: <BrightnessIcon /> },\n    { type: SVG_EDITOR_TYPE.Blend, icon: <BlendIcon /> },\n    { type: SVG_EDITOR_TYPE.Channel, icon: <ChannelIcon /> },\n    { type: SVG_EDITOR_TYPE.Interpolation, icon: <InterpolarionIcon /> }, // color-interpolation-filters\n];\n\nexport default function SVGEditor() {\n    const [, setCtx] = useContext(FilterContext);\n\n    const [state, setState] = useState({ editing: false, type: '' });\n\n    const handleSelect = (type: string) => {\n        setCtx({ editing: true });\n        setState({ ...state, editing: true, type });\n    };\n    const handleClose = () => {\n        setCtx({ editing: false });\n        setState({ ...state, editing: false });\n    };\n    const list = actionList.map(item => {\n        return {\n            ...item,\n            children: (\n                <div className={styles.iconWrap} onClick={() => handleSelect(item.type)}>\n                    <h2>{item.type}</h2>\n                    <span className={styles.icon}>{item.icon}</span>\n                </div>\n            ),\n        };\n    });\n\n    return (\n        <>\n            <aside className={styles.eidtor}>\n                <ScrollSnap list={list} />\n            </aside>\n            {state.editing && <Operator type={state.type} onClose={handleClose} />}\n        </>\n    );\n}\n","import React, { FormEvent } from 'react';\nimport styles from './styles.module.less';\n\nexport default function ColorInput({ color, onChange }: { color: string; onChange?: Function }) {\n    const handleChange = (color: string) => {\n        onChange && onChange(color);\n    };\n\n    return (\n        <span className={styles.inputColor}>\n            <i className={styles.color} data-name={color} style={{ backgroundColor: color }}></i>\n            <input\n                type=\"color\"\n                value={color}\n                onChange={(event: FormEvent<HTMLInputElement>) => handleChange(event.currentTarget.value)}\n            />\n        </span>\n    );\n}\n","import React, { useState } from 'react';\n\nimport InputColor from '@/components/Input/Color';\n\nimport Nouislider from 'nouislider-react';\nimport 'nouislider/distribute/nouislider.css';\nimport wNumb from 'wnumb';\n\nimport { hexToRgb, rgbToHex } from '@/utils/color';\n\nimport styles from './styles.module.less';\n\nconst COLORS = ['red', 'green', 'blue'];\n\nexport default function SliderHEXColor({ color, onChange }: { color: string; onChange?: Function }) {\n    const [rgbs, setState] = useState(hexToRgb(color));\n\n    // 实时效果\n    const handleUpdate = (index: number) => (\n        values: string[],\n        handle: number,\n        unencodedValues: number[],\n        tap: boolean,\n        positions: number[],\n    ) => {\n        let [value] = unencodedValues;\n        // 临时变量， copy 一份，消除对当前 state 的副作用\n        const cache = rgbs.concat() as [number, number, number];\n        cache[index] = Math.round(value);\n        onChange && onChange(rgbToHex(...cache));\n    };\n\n    const sliderChangeHandler = (index: number) => (\n        values: string[],\n        handle: number,\n        unencodedValues: number[],\n        tap: boolean,\n        positions: number[],\n    ) => {\n        let [value] = unencodedValues;\n        rgbs[index] = Math.round(value);\n        setState(rgbs);\n        onChange && onChange(rgbToHex(...rgbs));\n    };\n\n    const handleChange = (color: string) => {\n        const [r, g, b] = hexToRgb(color);\n        rgbs[0] = r;\n        rgbs[1] = g;\n        rgbs[2] = b;\n\n        setState(rgbs);\n\n        onChange && onChange(color);\n    };\n\n    return (\n        <div className={styles.colorSlider}>\n            <h2 className={styles.titleWrap}>\n                <strong>{color.toLocaleUpperCase()}</strong>\n                <span>\n                    <InputColor color={color} onChange={(value: string) => handleChange(value)} />\n                </span>\n            </h2>\n            <div className={styles.colorpicker}>\n                {COLORS.map((item, index) => (\n                    <Nouislider\n                        key={item}\n                        id={item}\n                        className={styles[item]}\n                        start={rgbs[index]}\n                        connect={[true, false]}\n                        orientation=\"vertical\"\n                        direction=\"rtl\"\n                        format={wNumb({ decimals: 0 })}\n                        step={1}\n                        range={{\n                            min: 0,\n                            max: 255,\n                        }}\n                        data-pips={{\n                            mode: 'count',\n                            values: 6,\n                            density: 5,\n                        }}\n                        onUpdate={handleUpdate(index)}\n                        onChange={sliderChangeHandler(index)}\n                    />\n                ))}\n            </div>\n        </div>\n    );\n}\n","import React, { useState, useContext } from 'react';\nimport { useStoreState, useStoreActions } from '@/store';\n\nimport ScrollSnap from '@/components/ScrollSnap';\nimport Editor from './Editor/index';\nimport Colors from './Colors';\nimport { FilterContext } from '../FilterContext';\n\nimport CN from 'classnames';\nimport styles from './styles.module.less';\n\nenum TYPE_NAME {\n    Filter = 'Filter',\n    Editor = 'Editor',\n}\n\nexport default function Footer() {\n    const { palettes, paletteId, palatteFilters } = useStoreState(({ SVG }) => SVG);\n    const { setPalatteId } = useStoreActions(({ SVG }) => SVG);\n\n    const [state, setState] = useState<{\n        tab: TYPE_NAME;\n        editColor: boolean;\n        palette: typeof palettes[0];\n    }>({\n        tab: TYPE_NAME.Filter,\n        editColor: false,\n        palette: {\n            id: '',\n            name: '',\n            colors: [],\n        },\n    });\n\n    const [{ thumbnail }, setCtx] = useContext(FilterContext);\n\n    const onSelectAndChangeColor = (\n        item: {\n            id: string;\n            name: string;\n            colors: string[];\n        },\n        index: number,\n    ) => {\n        if (paletteId === item.id) {\n            // 二次点击: 编辑颜色\n            setCtx({ editing: true });\n            setState({\n                ...state,\n                editColor: true,\n                palette: JSON.parse(JSON.stringify(item)), // 初始值，<Color/> 组件用于取消重置\n            });\n        } else {\n            setPalatteId(item.id);\n        }\n    };\n\n    const handleClose = () => {\n        setCtx({ editing: false });\n        setState({\n            ...state,\n            editColor: false,\n        });\n    };\n\n    const palettesList = palatteFilters.map(({ filterId, palette }, index: number) => {\n        return {\n            ...palette,\n            children: (\n                <div\n                    onClick={() => onSelectAndChangeColor(palette, index)}\n                    className={CN([styles.palette, palette.id === paletteId && styles.active])}\n                >\n                    <h2>{palette.name}</h2>\n                    <figure>\n                        {thumbnail && <img src={thumbnail} alt=\"\" style={{ filter: `url(#${filterId})` }} />}\n                    </figure>\n                </div>\n            ),\n        };\n    });\n\n    return (\n        <div className={styles.wrap}>\n            {/* thumbnail slider */}\n            <aside className={styles.area}>\n                {(() => {\n                    switch (state.tab) {\n                        case TYPE_NAME.Filter:\n                            return <ScrollSnap list={palettesList} />;\n                        case TYPE_NAME.Editor:\n                            return <Editor />;\n                    }\n                })()}\n            </aside>\n            {/* TAB */}\n            <ul className={styles.tab}>\n                {[TYPE_NAME.Filter, TYPE_NAME.Editor].map(tab => (\n                    <li\n                        key={tab}\n                        className={CN([styles.item, state.tab === tab && styles.active])}\n                        onClick={() => setState({ ...state, tab })}\n                    >\n                        {tab}\n                    </li>\n                ))}\n            </ul>\n            {/* change color */}\n            {state.editColor && <Colors value={state.palette} onClose={handleClose} />}\n        </div>\n    );\n}\n","import React, { useContext } from 'react';\nimport { useStoreActions } from '@/store';\nimport { FilterContext } from '../FilterContext';\n\nimport SliderRGB from '@/components/Slider/RGB';\nimport ScrollSnap from '@/components/ScrollSnap';\n\nimport styles from './styles.module.less';\n\n/**\n * 调节 RGB 颜色\n *\n * @param {{}} props\n * @param {{id: string;name: string; colors: string[];}} props.value - 调色板数据\n * @param {Function} [props.onClose] - 回调函数，关闭当前组件的方法\n */\nexport default function Color({\n    value,\n    onClose,\n}: {\n    value: {\n        id: string;\n        name: string;\n        colors: string[];\n    };\n    onClose?: Function;\n}) {\n    const [{ palette }, setCxt] = useContext(FilterContext);\n\n    // 实时改变颜色，即改变 Context 数据\n    const setLiveColors = (values: string[] | undefined) => {\n        setCxt({\n            palette: {\n                ...palette,\n                colors: values ?? [],\n            },\n        });\n    };\n    // 保存数据到 store\n    const setPalatte = useStoreActions(({ SVG }) => SVG.setPalatte);\n\n    const handleChange = (value: string, index: number) => {\n        const colors = palette?.colors;\n        colors?.splice(index, 1, value);\n        setLiveColors(colors);\n    };\n    const onDone = () => {\n        palette && setPalatte(palette);\n        onClose && onClose();\n    };\n    const onCancel = () => {\n        setLiveColors(value.colors);\n        onClose && onClose();\n    };\n\n    const list =\n        palette?.colors.map((color: string, index: number) => {\n            return {\n                color,\n                children: <SliderRGB color={color} onChange={(value: string) => handleChange(value, index)} />,\n            };\n        }) || [];\n\n    return (\n        <div className={styles.color}>\n            <ScrollSnap list={list} />\n            <aside className={styles.aside}>\n                <button onClick={onCancel}>Cancel</button>\n                <button onClick={onDone}>Done</button>\n            </aside>\n        </div>\n    );\n}\n","import React, { useState, useRef, useEffect } from 'react';\n\nimport LayoutEditor from '@/containers/Layout/Editor';\nimport Banner from './Banner';\nimport Main from './Main';\nimport Footer from './Footer';\n\nimport { FilterProvider } from './FilterContext';\n\nexport default function FilterSVG() {\n    const refSVG = useRef<SVGSVGElement>(null);\n    const [state, setState] = useState<any>(null);\n\n    useEffect(() => {\n        if (refSVG.current) {\n            setState(refSVG.current);\n        }\n    }, []);\n\n    const config = {\n        Banner: <Banner target={state} />,\n        Main: <Main ref={refSVG} />,\n        Footer: <Footer />,\n        // Extra: <div></div>,\n    };\n\n    return (\n        <FilterProvider>\n            <LayoutEditor {...config} />\n        </FilterProvider>\n    );\n}\n","import React from 'react';\nimport { useRouteMatch, Switch, Route, Redirect } from 'react-router-dom';\n\nimport FilterCSS from './FilterCSS';\nimport FilterSVG from './FilterSVG';\n\nexport default function EffectIndex() {\n    const { path } = useRouteMatch();\n    return (\n        <Switch>\n            <Route path={`${path}/css`}>\n                <FilterCSS />\n            </Route>\n            <Route path={`${path}/svg`}>\n                <FilterSVG />\n            </Route>\n            <Route path={`${path}/`} exact>\n                <Redirect to={`${path}/svg`} />\n            </Route>\n            <Route path=\"*\">\n                <>404</>\n            </Route>\n        </Switch>\n    );\n}\n","import React from 'react';\nimport { Router, Route, HashRouter /* BrowserRouter */ } from 'react-router-dom';\nimport { AnimatedSwitch } from 'react-router-transition';\nimport history from '@/utils/history';\n\nimport LayoutIndex from '@/containers/Layout';\nimport HomeIndex from '@/containers/Home';\nimport EffectIndex from '@/containers/Effect';\n\nimport styles from './app.module.less';\n\nfunction App() {\n    return (\n        <Router history={history}>\n            <AnimatedSwitch\n                atEnter={{ opacity: 0 }}\n                atLeave={{ opacity: 0 }}\n                atActive={{ opacity: 1 }}\n                className={styles.switch}\n            >\n                <LayoutIndex>\n                    <HashRouter basename=\"/\">\n                        <Route path=\"/\" exact>\n                            <HomeIndex />\n                        </Route>\n                        <Route path=\"/effect\">\n                            <EffectIndex />\n                        </Route>\n                    </HashRouter>\n                </LayoutIndex>\n            </AnimatedSwitch>\n        </Router>\n    );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { StoreProvider } from 'easy-peasy';\nimport { store } from '@/store';\n\nimport './styles.module.less';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n    <>\n        {/* <React.StrictMode> */}\n        <StoreProvider store={store}>\n            <App />\n        </StoreProvider>\n        {/* </React.StrictMode> */}\n    </>,\n    document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}